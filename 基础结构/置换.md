

# 置换拆分 CodeForces-1863B

```rs
mod permutation {
    disordered_in(sym: Sym[n], i: 0..n)
        = gen { k, l => k < l && sym[k] == sym[l] + 1 == i }.exists()
    
    sort_split(sym: Sym[n], i: 0..n) = sym.filter($ < i) + sym.filter($ >= i)

    disordered_in(sort_split(sym, i), k) = (i != k) && disordered_in(sym, k)

    min_splits_sort(sym: Sym[n])
        = gen { li: (0..n)* => li.foldl(sym, sort_split) }.map($.len()).min()
        = gen { li: 2^(0..n) => li.all(disordered_in(sym, $)) }.map($.len()).min()
}
```

