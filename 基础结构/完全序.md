

# 有序列

## 两有序列的第 i 元素

```rs
mod sorted_seqs {
    ith_element_of_2(a: Sorted(ℕ*), b: Sorted(ℕ*), i: ℕ)
        = gen {p | ∃(k: 0..=min(i, a.len())) a[k - 1].all(<= p) && b[i-k - 1].all(<= p) && p == min(a?[k], b?[i-k]) }
        = bisearch_firstsat(0..=min(i, a.len()), k => ith_element_of_2_guess(a, b, i, k)) as k in
            min(b[i - k], a[k])
    
    ith_element_of_2_guess(a: Sorted(ℕ*), b: Sorted(ℕ*), i: ℕ, k: ℕ)
        = ith_element_of_2(a, b, i) <= a[k]
        = b?[i - k - 1] ?? -INF <= a[k]
}
```

[LeetCode-4](https://leetcode.com/problems/median-of-two-sorted-arrays/)