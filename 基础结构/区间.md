
# 最少值区间覆盖

```rs
mod interval {
    Interval = (s: ℤ, e: ℤ) where s <= e

    min_cover(intvls: Interval*) 
        = gen { li => intvls.all(i => li.some($ in i)) }.map($.len()).min()
        = min_cover_inner(
            $.filter(!$.is_empty())
                .window_update(2, if $.0 in $.1 {$.0} else {$})
                .sorted()
        )
    
    // 贪心为每个区间的开始
    min_cover_inner(intvls: Sorted(Interval*)) where ∀(i, j) { intvls[i] !⊆ intvls[j] }
        = intvls.subseqs().filter(li => intvls.all(intvl => li.some($.s in intvl))).map($.len()).min()

    // 再贪心选区间开始
    min_cover_inner(intvls + [i])
        = min_cover_inner(intvls.filter($.e !in i)) + 1
}
```

